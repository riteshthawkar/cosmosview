{% extends 'base.html' %}
{% load static %}


{% block tailwind %}
<script src="https://cdn.tailwindcss.com"></script>
{% endblock tailwind %}
{% block content %}

  {% if data %}
    <section class="w-full mx-5 mb-20 md:w-4/5 md:mx-auto text-gray-400 body-font mt-10 mb-20">
      <div class="container px-5 py-24 mx-auto flex flex-wrap">
        <div class="w-full sm:p-4 px-4 mb-6 text-center md:text-left" style="background-color: black;">
          <h1 class="title-font font-medium text-5xl md:mb-5 mb-10 text-gray-100">
            {{ data.Heading }}
          </h1>
          <img
            class="object-contain sm:w-96 sm:h-96 w-72 h-auto mx-auto md:float-right md:ml-8 mb-5"
            src="{{ data.img_url }}"
            alt="stats"
          />

          <p class="leading-relaxed text-justify text-xl indent-20">
            {{ data.content }}
          </p>
        </div>
      </div>
    </section>

    <section class="w-full px-10 mt-20 mb-60 md:w-4/5 md:mx-auto">
      <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
        <table
          class="w-full text-xl text-left text-white table-fixed"
        >
          <thead
            class="text-xs text-white bg-slate-800"
          >
            <tr>
              <th scope="col" colspan="2" class="px-6 py-3 md:text-3xl text-2xl text-center">  Astronomical Data</th>
              <!-- <th scope="col" class="px-6 py-3 md:text-3xl text-2xl"></th> -->
            </tr>
          </thead>
          <tbody class="divide-y divide-zinc-800 border-b-2 py-5">
            {% for key,value in  data.table_data.items%}
            <tr class="bg-black py-5 hover:bg-zinc-800 bordr-b">
              <th scope="row" class="px-6 py-4 md:font-large font-medium text-gray-900 dark:text-white whitespace-nowrap">
                {{key}}
              </th>
              <td class="px-6 py-4 md:text-xl text-md text-gray-400 text-right">{{value}}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </section>


    {% comment %} <section class="text-gray-400 w-9/10 my-20 pt-40">
      <div class="w-full">
        <h1 class="md:text-6xl text-4xl font-bold title-font text-center text-white mb-5">Image Gallary</h1>
      </div>
      <div class="w-full px-5 py-10 mx-auto flex flex-wrap">
        <div class="w-full md:w-9/10 mx-auto mb-20">
          <div class="grid lg:grid-cols-2 md:grid-cols-2 gap-2 mx-auto">
            {% for image in data.images%}
            <div class="relative w-full" onmouseenter="toggledisplay(this)" onmouseleave="toggledisplay(this)">
              <img class="w-full object-contain object-center block" src="{{ image.url }}"
                  alt="image">
              <div class="absolute hidden text-center top-0 left-0 text-5xl 2xl w-full h-full flex flex-col items-center justify-center text-gray-100" style="background-color: rgba(0, 0, 0, 0.84);">
                  <div>
                      <p class="text-gray-500 text-xl">{{ image.caption }}</p>
                  </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </section>

    <script>
      function toggledisplay(obj){
        if(obj.childNodes[3].classList.contains("hidden")){
          obj.childNodes[3].classList.remove("hidden");
        }
        else{
          obj.childNodes[3].classList.add("hidden")
        }
      }
    </script> {% endcomment %}
    {% else %}
        <div class="w-full h-screen flex flex-col items-center justify-center">
            <p class="text-2xl text-gray-500 mb-3">No results found!</p> 
            <button id="back" class="px-4 py-2 bg-blue-600 hover:bg-blue-500">GO BACK</button>
        </div>


  {% endif %}

  <script>
    document.getElementById("back").addEventListener("click", ()=>{
      history.back();
    })
  </script>

{% endblock content %}